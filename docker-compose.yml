version: '3.8'

services:
  llm-bridge:
    build: .
    container_name: llm-bridge
    restart: unless-stopped
    environment:
      - DISCORD_BOT_TOKEN=${DISCORD_BOT_TOKEN}
    volumes:
      # Config file
      - ./llm-bridge.yaml:/etc/llm-bridge/llm-bridge.yaml:ro
      # Mount repo directories for Claude to access
      - /root/projects:/root/projects
      # Persist Claude session data
      - claude-data:/root/.claude
    # For terminal access (interactive mode)
    stdin_open: true
    tty: true

volumes:
  claude-data:
